[2025-10-17T13:44:19.191+0000] {local_task_job_runner.py:120} INFO - ::group::Pre task execution logs
[2025-10-17T13:44:19.609+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: jobs_jobspy_daily.collect_jobspy manual__2025-10-17T13:44:14.995745+00:00 [queued]>
[2025-10-17T13:44:19.636+0000] {taskinstance.py:2076} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: jobs_jobspy_daily.collect_jobspy manual__2025-10-17T13:44:14.995745+00:00 [queued]>
[2025-10-17T13:44:19.638+0000] {taskinstance.py:2306} INFO - Starting attempt 1 of 1
[2025-10-17T13:44:19.687+0000] {taskinstance.py:2330} INFO - Executing <Task(BashOperator): collect_jobspy> on 2025-10-17 13:44:14.995745+00:00
[2025-10-17T13:44:19.708+0000] {logging_mixin.py:188} WARNING - /home/***/.local/lib/python3.12/site-packages/***/task/task_runner/standard_task_runner.py:62 DeprecationWarning: This process (pid=228) is multi-threaded, use of fork() may lead to deadlocks in the child.
[2025-10-17T13:44:19.707+0000] {standard_task_runner.py:90} INFO - Running: ['***', 'tasks', 'run', 'jobs_jobspy_daily', 'collect_jobspy', 'manual__2025-10-17T13:44:14.995745+00:00', '--job-id', '16', '--raw', '--subdir', 'DAGS_FOLDER/jobs_jobspy_daily.py', '--cfg-path', '/tmp/tmptp4qpdmg']
[2025-10-17T13:44:19.710+0000] {standard_task_runner.py:64} INFO - Started process 234 to run task
[2025-10-17T13:44:19.711+0000] {standard_task_runner.py:91} INFO - Job 16: Subtask collect_jobspy
[2025-10-17T13:44:19.865+0000] {task_command.py:426} INFO - Running <TaskInstance: jobs_jobspy_daily.collect_jobspy manual__2025-10-17T13:44:14.995745+00:00 [running]> on host 8068b94627c0
[2025-10-17T13:44:20.310+0000] {taskinstance.py:2648} INFO - Exporting env vars: AIRFLOW_CTX_DAG_OWNER='***' AIRFLOW_CTX_DAG_ID='jobs_jobspy_daily' AIRFLOW_CTX_TASK_ID='collect_jobspy' AIRFLOW_CTX_EXECUTION_DATE='2025-10-17T13:44:14.995745+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2025-10-17T13:44:14.995745+00:00'
[2025-10-17T13:44:20.312+0000] {taskinstance.py:430} INFO - ::endgroup::
[2025-10-17T13:44:20.449+0000] {subprocess.py:63} INFO - Tmp dir root location: /tmp
[2025-10-17T13:44:20.457+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', "python /workspace/scripts/jobspy_collect.py --query 'Data Engineer' --location 'France' --sites indeed,glassdoor,linkedin --pages 2 --days 7"]
[2025-10-17T13:44:20.489+0000] {subprocess.py:86} INFO - Output:
[2025-10-17T13:44:26.321+0000] {subprocess.py:93} INFO - Traceback (most recent call last):
[2025-10-17T13:44:26.322+0000] {subprocess.py:93} INFO -   File "/workspace/scripts/jobspy_collect.py", line 35, in <module>
[2025-10-17T13:44:26.327+0000] {subprocess.py:93} INFO -     main()
[2025-10-17T13:44:26.328+0000] {subprocess.py:93} INFO -   File "/workspace/scripts/jobspy_collect.py", line 19, in main
[2025-10-17T13:44:26.333+0000] {subprocess.py:93} INFO -     df = scrape_jobs(
[2025-10-17T13:44:26.335+0000] {subprocess.py:93} INFO -          ^^^^^^^^^^^^
[2025-10-17T13:44:26.336+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.12/site-packages/jobspy/__init__.py", line 84, in scrape_jobs
[2025-10-17T13:44:26.337+0000] {subprocess.py:93} INFO -     country_enum = Country.from_string(country_indeed)
[2025-10-17T13:44:26.338+0000] {subprocess.py:93} INFO -                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[2025-10-17T13:44:26.339+0000] {subprocess.py:93} INFO -   File "/home/***/.local/lib/python3.12/site-packages/jobspy/model.py", line 176, in from_string
[2025-10-17T13:44:26.340+0000] {subprocess.py:93} INFO -     raise ValueError(
[2025-10-17T13:44:26.341+0000] {subprocess.py:93} INFO - ValueError: Invalid country string: 'fr'. Valid countries are: argentina, australia, austria, bahrain, bangladesh, belgium, bulgaria, brazil, canada, chile, china, colombia, costa rica, croatia, cyprus, czech republic,czechia, denmark, ecuador, egypt, estonia, finland, france, germany, greece, hong kong, hungary, india, indonesia, ireland, israel, italy, japan, kuwait, latvia, lithuania, luxembourg, malaysia, malta, mexico, morocco, netherlands, new zealand, nigeria, norway, oman, pakistan, panama, peru, philippines, poland, portugal, qatar, romania, saudi arabia, singapore, slovakia, slovenia, south africa, south korea, spain, sweden, switzerland, taiwan, thailand, t√ºrkiye,turkey, ukraine, united arab emirates, uk,united kingdom, usa,us,united states, uruguay, venezuela, vietnam, usa/ca, worldwide
[2025-10-17T13:44:26.562+0000] {subprocess.py:97} INFO - Command exited with return code 1
[2025-10-17T13:44:26.568+0000] {taskinstance.py:441} INFO - ::group::Post task execution logs
[2025-10-17T13:44:26.601+0000] {taskinstance.py:2905} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/airflow/.local/lib/python3.12/site-packages/airflow/models/taskinstance.py", line 465, in _execute_task
    result = _execute_callable(context=context, **execute_callable_kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/airflow/.local/lib/python3.12/site-packages/airflow/models/taskinstance.py", line 432, in _execute_callable
    return execute_callable(context=context, **execute_callable_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/airflow/.local/lib/python3.12/site-packages/airflow/models/baseoperator.py", line 401, in wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/airflow/.local/lib/python3.12/site-packages/airflow/operators/bash.py", line 243, in execute
    raise AirflowException(
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 1.
[2025-10-17T13:44:26.617+0000] {taskinstance.py:1206} INFO - Marking task as FAILED. dag_id=jobs_jobspy_daily, task_id=collect_jobspy, run_id=manual__2025-10-17T13:44:14.995745+00:00, execution_date=20251017T134414, start_date=20251017T134419, end_date=20251017T134426
[2025-10-17T13:44:26.652+0000] {standard_task_runner.py:110} ERROR - Failed to execute job 16 for task collect_jobspy (Bash command failed. The command returned a non-zero exit code 1.; 234)
[2025-10-17T13:44:26.690+0000] {local_task_job_runner.py:243} INFO - Task exited with return code 1
[2025-10-17T13:44:26.766+0000] {taskinstance.py:3503} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2025-10-17T13:44:26.774+0000] {local_task_job_runner.py:222} INFO - ::endgroup::
